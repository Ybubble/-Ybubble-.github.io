

<!DOCTYPE html>
<html lang="zn-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/1.jpg">
  <link rel="icon" href="/img/1.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="3.5.4 Reliable Data Transfer   TCP creates a reliable data transfer service(可靠数据传输) on top of IP’s unreliable best-effort service   TCP’s reliable data transfer service ensures that the data stream th">
<meta property="og:type" content="article">
<meta property="og:title" content="第三章-运输层（五）">
<meta property="og:url" content="https://ybubble.github.io/2024/02/20/%E7%AC%AC%E4%B8%89%E7%AB%A0%E8%BF%90%E8%BE%93%E5%B1%825/index.html">
<meta property="og:site_name" content="Bubble&#39;s Blog">
<meta property="og:description" content="3.5.4 Reliable Data Transfer   TCP creates a reliable data transfer service(可靠数据传输) on top of IP’s unreliable best-effort service   TCP’s reliable data transfer service ensures that the data stream th">
<meta property="og:locale" content="zn_CN">
<meta property="article:published_time" content="2024-02-20T04:40:44.581Z">
<meta property="article:modified_time" content="2024-02-20T07:32:14.446Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>第三章-运输层（五） - Bubble&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"ybubble.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Bubble</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Category</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/3.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="第三章-运输层（五）"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-02-20 12:40" pubdate>
          February 20, 2024 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">第三章-运输层（五）</h1>
            
            
              <div class="markdown-body">
                
                <h3 id="3-5-4-Reliable-Data-Transfer">3.5.4 Reliable Data Transfer</h3>
<ul>
<li>
<p>TCP creates a <strong>reliable data transfer service</strong>(可靠数据传输) on top of IP’s unreliable best-effort service</p>
</li>
<li>
<p>TCP’s reliable data transfer service ensures that the data stream that a process reads out of its TCP receive buffer is <u>uncorrupted</u>无损坏, <u>without gaps</u>无间隔, <u>without duplication</u>非冗余,and <u>in sequence</u>按序，···完全相同</p>
</li>
<li>
<p>TCP sender three events:TCP 发送方三个重要事件</p>
<ul>
<li>
<p>data received from application above</p>
<ul>
<li>
<p>TCP receives data from the application, encapsulates the data in a segment, and passes the segment to IP</p>
</li>
<li>
<p><strong>each segment</strong> includes a <strong>sequence number</strong> that is the <strong>byte-stream number of the first data byte</strong> in the segment, 这个序号就是该报文段第一个数据字节的字节流编号</p>
</li>
<li>
<p>if the timer is already not running for some other segment, TCP starts the timer when the segment is passed to IP</p>
<p>（think of timer as for oldest  unacked segment，expiration interval: TimeOutInterval）</p>
</li>
</ul>
</li>
<li>
<p>timeout (超时)</p>
<ul>
<li>retransmit segment that  caused timeout(重传导致超 时事件的报文)</li>
<li>restart timer</li>
</ul>
</li>
<li>
<p>ack rcvd (收到ACK):</p>
</li>
<li>
<p>if ack acknowledges  previously unacked segments</p>
<ul>
<li>
<p>update what is known to  be ACKed (cumulative  acknowledgments累计确认)</p>
</li>
<li>
<p>start timer if there are  still unacked segments</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Set TimeoutInterval during  sender three events:（in most of TCP implementation）</p>
<ul>
<li>data rcvd from app (收到APP发送的数据事件):
<ul>
<li>TimeoutInterval = EstimatedRTT + 4*DevRTT *</li>
</ul>
</li>
<li>timeout (超时事件):
<ul>
<li>TimeoutInterval is doubled, if timeout occurs  again, the TimeoutInterval is 4 times, unless the  segment is received and EstimatedRTT is updated</li>
</ul>
</li>
<li>ack rcvd (收到ACK事件):
<ul>
<li>TimeoutInterval = EstimatedRTT + 4*DevRTT</li>
</ul>
</li>
</ul>

</li>
<li>
<p>例</p>

</li>
<li>
<p>第二种情况：当超时事件发生时，主机 A 重传序号92的第一个报文段，并重启定时器。只要第二个报文段的 ACK 在新的超时发生以前到达，则第二个报文段将不会被重传</p>
</li>
</ul>

<ul>
<li>超时事件发生之前主机A收到一个确认号为 120的确认报文。主机 A 因而知道主机主机B已经收到了序号为119及之前的所有字节; 所以主机A不会重传这两个报文段中的任何一个</li>
</ul>
<h6 id="Doubling-the-Timeout-Interval，超时间隔加倍">Doubling the Timeout Interval，超时间隔加倍</h6>
<ul>
<li>whenever the timeout event occurs, TCP retransmits the <strong>not-yet-acknowledged segment</strong> with the <strong>smallest sequence</strong> number</li>
<li>每次TCP重传时都会将下一次的超时间隔设为先前值的<strong>两倍</strong>，而不是用从 EstimatedRTT 和DevRTT推算出的值</li>
<li>the intervals grow exponentially after each retransmission，超时间隔在每次重传后会呈指数型增长</li>
</ul>
<h6 id="Fast-Retransmit，快速重传">Fast Retransmit，快速重传</h6>
<ul>
<li>
<p>One of the problems with <u>timeout-triggered retransmissions</u>(触发超时重传) is that the <u>timeout period</u>(超时周期) can be relatively long. When a segment is <u>lost</u>, this long timeout period forces the sender to <u>delay</u> resending the lost packet, thereby <strong>increasing the end-to-end delay</strong></p>
<p>==》 the sender can often detect(检测，发现) packet loss well before the timeout event occurs by noting so-called <strong>duplicate ACK</strong>（冗余ACK）</p>
</li>
<li>
<p>TCP ACK generation recommendation(介绍，建议)</p>
</li>
<li>
<table>
<thead>
<tr>
<th>event at receiver</th>
<th>TCP receiver action</th>
</tr>
</thead>
<tbody>
<tr>
<td>arrival of in-order segment with expected seq #. All data up to expected seq # already ACKed</td>
<td>delayed ACK. Wait up to 500ms for next segment. If no next segment, send ACK</td>
</tr>
<tr>
<td>arrival of in-order segment with expected seq #. One other  segment has ACK pending</td>
<td>immediately send single cumulative  ACK, ACKing both in-order segments</td>
</tr>
<tr>
<td>arrival of out-of-order segment higher-than-expect seq. # . Gap detected (大于预期、顺序编号的报文，即检测到空白区域)</td>
<td>immediately send duplicate ACK(冗余ACK),  indicating seq. # of next expected byte (指明下一个期待的报文编号)</td>
</tr>
<tr>
<td>arrival of segment that  partially or completely fills gap</td>
<td>immediate send ACK, provided that segment starts at lower end of gap</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>time-out period often  relatively long可能相对较长</p>
<ul>
<li>long delay before  resending lost packet</li>
<li>increase end-to-end delay</li>
</ul>
</li>
<li>
<p>detect lost segments via  duplicate ACKs</p>
<ul>
<li>sender often sends many  segments back-to-back (连续)</li>
<li>if segment is lost, there  will likely be many duplicate ACKs</li>
</ul>
</li>
<li>
<p>In the case that <strong>three duplicate ACKs</strong> are received, the TCP sender performs a <strong>fast retransmit</strong></p>
<ul>
<li>retransmitting the missing segment before that segment’s timer expires</li>
</ul>
</li>
</ul>

<ul>
<li>选择确认（selective acknowledgment）：允许TCP接收方有选择地确认失序报文段，而不是累积地确认最后一个正确接收的有序报文段</li>
</ul>
<h3 id="3-5-5-Flow-Control，流量控制">3.5.5 Flow Control，流量控制</h3>
<ul>
<li>When the TCP connection receives bytes that are correct and in sequence, it places the data in the receive buffer，正确字节=》接收缓存</li>
<li>The associated application process will read data from this buffer, but not necessarily at the instant the data arrives，应用读取，但非立刻读取</li>
<li>f the application is relatively slow at reading the data, the sender can very easily overflow the connection’s receive buffer by sending too much data too quickly，使该连接的接收缓存溢出</li>
<li>TCP provides a <strong>flow-control service</strong>(流量控制服务) to its applications to eliminate the possibility of the sender overflowing the receiver’s buffer</li>
<li>Flow control is a <u>speed-matching service</u>速度匹配服务—matching the rate at which the sender is sending against the rate at which the receiving application is reading</li>
<li><strong>congestion control</strong>拥塞控制：TCP发送方也可能因为IP网络的拥塞而被遏制</li>
</ul>

<ul>
<li>
<p>TCP provides flow control by having the sender maintain a variable called the <strong>receive window</strong>（接收窗口）=》（how much free buffer space is available at the receiver）</p>
</li>
<li>
<p>Because TCP is full-duplex, the sender at each side of the connection maintains a distinct receive window（双方皆有）</p>
</li>
<li>
<p>RevBuffer：denote receive buffer‘s  size</p>
</li>
<li>
<p>例</p>
<ul>
<li>
<p>Host A is sending a large file to  Host B over a TCP connection,  allocates a receive buffer  RcvBuffer(接收缓存）</p>
</li>
<li>
<p>LastByteRead: the number of the  last byte in the data stream read  from the buffer by the  application process in B，主机 B上的应用进程从缓存读出的数据流的最后一个字节的编号 (应用层从缓存中读取的最新一个字节的编号)</p>
</li>
<li>
<p>LastByteRead: the number of the  last byte in the data stream read  from the buffer by the  application process in B，从网络中到达的并且已放入主机 B接收缓存中的数据流的最后一个字节的编号 (应用层从缓存中读取的最新一个字节的编号)</p>
</li>
<li>
<p>TCP is not permitted to overflow the allocated buffer：</p>
<ul>
<li>LastByteRcvd – LastByteRead &lt;= RcvBuffer</li>
</ul>
</li>
<li>
<p>denoted <u>rwnd</u> (receive windows) is set to the amount of spare  room in the buffer (接收缓存中空闲空间)</p>
<ul>
<li>rwnd = RcvBuffer – [LastByteRcvd – LastByteRead]</li>
</ul>
</li>
<li>
<p>How does the connection use the variable <u>rwnd</u> to provide the flow-control service?</p>
<ul>
<li>Host B tells Host A how much spare room it has in the connection buffer by (placing its <strong>current value of rwnd</strong> in the <strong>receive window field</strong> of <u>every segment it sends to A</u>), 把当前的rwnd 值放入它发给主机 A 的报文段接收窗口字段中</li>
<li>Initially, Host B sets <u>rwnd =RcvBuffer</u></li>
</ul>

</li>
<li>
<p>LastByteSent-LastByteAcked，就是主机A发送到连接中但未被确认的数据量。通过将未确认的数据量控制在值 rwnd 以内，就可以保证主机 A 不会使主机B的接收缓存溢出。因此，主机 A在该连接的整个生命周期须保证∶ LastByteSent -LastByteAcked ≤ rwnd</p>
</li>
<li>
<p>the TCP specification requires:</p>
</li>
<li>
<p>Host A to <u>continue to send segments</u> with <strong>one data byte</strong> when <u>B’s receive window</u> is <strong>zero</strong>. These segments will be acknowledged by the receiver</p>
</li>
<li>
<p>Eventually the buffer will <u>begin to empty</u> and the <u>acknowledgments</u> will contain a <strong>nonzero rwnd value</strong></p>
</li>
<li>
<p>receiver “advertises” free buffer  space by including rwnd value in  TCP header of receiver-to-sender  segments</p>
<ul>
<li>RcvBuffer size set via socket  options (typical default is 4096  bytes)</li>
<li>many operating systems  autoadjust RcvBuffers</li>
</ul>
</li>
<li>
<p>sender limits amount of unacked (“in-flight”) data according to  receiver’s rwnd value</p>

</li>
</ul>
</li>
</ul>
<h3 id="3-5-6-TCP-Connection-Management-TCP连接管理">3.5.6 TCP Connection Management,TCP连接管理</h3>
<ul>
<li>
<p>The TCP in the client then proceeds to establish a TCP connection with the TCP in the server in the following manner:</p>
</li>
<li>
<p>:one:client-side TCP first sends <u>a special TCP segment</u>(<strong>SYN segment</strong>) to the server-side TCP</p>
<ul>
<li>ontains no application-layer data</li>
<li>the <strong>SYN bit</strong> is set to <strong>1</strong></li>
<li>the client <strong>randomly</strong> chooses an <strong>initial sequence number</strong>(<strong>client_isn</strong>)and puts this number in the <strong>sequence number field</strong> of the <u>initial TCP SYN segment</u></li>
<li>This segment is <u>encapsulated</u> within an <u>IP datagram</u> and sent to the server</li>
</ul>
</li>
<li>
<p>:two:server host receives SYN,  replies with SYNACK segment</p>
<p>​	 (the server extracts(提取) the <u>TCP SYN segment</u> from the <u>datagram</u>, allocates(分配) the <strong>TCP buffers</strong> and <strong>variables</strong> to the <u>connection</u>, and <u>sends</u> a <strong>connection-granted segment</strong> to the client TCP，发送允许连接的报文)</p>
<ul>
<li>also contains no application-layer data</li>
<li>the <strong>SYN bit</strong> is set to 1</li>
<li>the <strong>acknowledgment field</strong> of the TCP segment header is set to <strong>client_isn+1</strong></li>
<li>the server <u>chooses</u> its own <strong>initial sequence number(server_isn)</strong> and puts this value in the sequence number field of the TCP segment header</li>
</ul>
<p>(我收到了你发起建立连接的 SYN 分组，该分组带有初始序号 client_isn。我同意建立该连接。我自己的初始序号是 server_isn,The connection-granted segment is referred to as a <strong>SYNACK segment</strong>)</p>
</li>
<li>
<p>:three:Upon receiving the SYNACK segment, the client also allocates buffers and variables to the connection</p>
<ul>
<li>The client host then sends the server yet another segment, this last segment acknowledges the server’s connection-granted segment
<ul>
<li>putting the value <strong>server_isn+1</strong> in the <strong>acknowledgment field</strong> of the TCP segment header</li>
<li>the <strong>SYN bit</strong> is set to <strong>zero</strong>, since the connection is established</li>
</ul>
</li>
<li>This third stage of the three-way handshake may carry client-to-server data in the segment payload</li>
</ul>
</li>
<li>
<p>Once these three steps have been completed, the client and server hosts can send segments containing data to each other</p>
</li>
<li>
<p>In each of these <u>future</u> segments, the <u>SYN</u> bit will be set to <u>zero</u></p>
</li>
</ul>

<ul>
<li>
<p>Either of the two processes participating in a TCP connection can end the connection. When a connection ends, the&quot;resources&quot;(that is, the buffers and variables) in the hosts are deallocated, 任何一方均可终止，终止后资源释放</p>
<ul>
<li>the client TCP to send a special TCP segment to the server process
<ul>
<li>has a flag bit in the segment’s header, the <strong>FIN bit</strong>, set to <strong>1</strong></li>
</ul>
</li>
<li>When the server receives this segment, it sends the client an <strong>acknowledgment segment</strong> in return</li>
<li>The server then sends its own <strong>shutdown segment</strong>(终止报文), which has the <strong>FIN bit</strong> set to <strong>1</strong></li>
<li>the client <strong>acknowledges</strong> the server’s shutdown segment( this point, <strong>all</strong> the resources in the two hosts are now <strong>deallocated</strong>)</li>
<li>Timed Wait: lets TCP client  resend final ack. in case lost,  typical values are 30 seconds, 1 minute, and 2 minutes（S如果在Timeout内未收到C的ACK，则将重新发送FIN。C在Timed wait里面若再次收到来自S的FIN，将重发 ACK并重新进入到Timed wait 状态，确保S能进入到关闭）</li>
<li>Note: with small modification,  can handle simultaneous  FINs</li>
</ul>

</li>
<li>
<p>During the life of a TCP connection, the TCP protocol [running in each host] makes transitions through various <strong>TCP states</strong>(TCP 状态)</p>
</li>
</ul>



<ul>
<li>
<p>RST segment:</p>
<ul>
<li>when receiving a TCP segment whose port number or source  IP address do not match with any of the ongoing socket  (receiver side)
<ul>
<li>Host send a special RST segment to source (如果是TCP)</li>
<li>Tell it “I don’t have a socket for that segment, psl don’t  resend”</li>
<li>Host send a special ICMP datagram for UDP case (如果是UDP)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>How to scan the target host port?  If you send a TCP SYN segment with destination port  6789</p>
<ul>
<li>(1) receives a TCP SYN ACK from destination: an  application is running with TCP port 6789</li>
<li>(2) receives a TCP RST from destination: the target host  is not running with TCP port 6789, attacker knows the  segment arrived in the host and are not blocked by  firewall</li>
<li>(3) receives nothing: SYN segment was likely blocked by  firewall and never reached the target host</li>
</ul>
</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="category-chain-item">计算机网络</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/02/20/%E7%AC%AC%E4%B8%89%E7%AB%A0%E8%BF%90%E8%BE%93%E5%B1%826/" title="第三章-运输层（六）">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">第三章-运输层（六）</span>
                        <span class="visible-mobile">Vorheriger</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/02/20/%E7%AC%AC%E4%B8%89%E7%AB%A0%E8%BF%90%E8%BE%93%E5%B1%824/" title="第三章-运输层（四）">
                        <span class="hidden-mobile">第三章-运输层（四）</span>
                        <span class="visible-mobile">Nächster</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      

    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Inhaltsverzeichnis</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Suchen</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Stichwort</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a target="_blank" rel="nofollow noopener"><span>🐟</span></a> <a target="_blank" rel="nofollow noopener"><span>🐟</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog funktioniert am besten mit aktiviertem JavaScript</div>
  </noscript>
</body>
</html>
